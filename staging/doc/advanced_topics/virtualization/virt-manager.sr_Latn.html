<!DOCTYPE html>

<html lang="sr-Latn" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tails - virt-manager</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../../../favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../local.css" type="text/css" />


<script src="../../../lib/js/mirror-dispatcher.js" type="text/javascript"></script>








<link rel="prev" href="./boxes.sr_Latn.html" title="GNOME Boxes" />

<link rel="up" href="../../advanced_topics.index.sr_Latn.html" title="advanced topics.index.sr Latn" />

<link rel="next" href="../lan.sr_Latn.html" title="Accessing resources on the local network" />




</head>


<body class="sr-Latn">


<div class="searchform">



</div>

<div class="banner" role="banner">
  <a class="tails" href="../../../index.sr_Latn.html">
    <span class="acronym">Tails</span><br/>
    <span class="slogan">The Amnesic Incognito Live System</span>
  </a>
</div>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">
<ul id="crumbs">
<li><a href="../../../index.sr_Latn.html"><img src="../../../lib/home.png"></a></li>







<li><a href="../../../doc.sr_Latn.html">doc</a></li>





<li><a href="../../advanced_topics.sr_Latn.html">advanced topics</a></li>





<li><a href="../virtualization.sr_Latn.html">virtualization</a></li>




<li>virt-manager</li>

</ul>
</span>
<span class="title">
virt-manager
</span>
</span>
</div>




<div id="otherlanguages">
<ul>
   
   <li class="current">
   <span class="visible">Serbian(Latin)
(0&nbsp;%)
   </span>
   <span class="hidden">Serbian(Latin)
(0&nbsp;%)
   </span>
   </li>

   


   

   <li  class="master">

   <span class="visible"><a href="./virt-manager.en.html">en</a></span>
   <span class="hidden"><a href="./virt-manager.en.html">English
    : master 
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.ar.html">ar</a></span>
   <span class="hidden"><a href="./virt-manager.ar.html">Arabic
   (10%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.ca.html">ca</a></span>
   <span class="hidden"><a href="./virt-manager.ca.html">Catalan
   (8%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.de.html">de</a></span>
   <span class="hidden"><a href="./virt-manager.de.html">Deutsch
   (77%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.es.html">es</a></span>
   <span class="hidden"><a href="./virt-manager.es.html">EspaÃ±ol
   (28%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.fa.html">fa</a></span>
   <span class="hidden"><a href="./virt-manager.fa.html">Farsi
   (10%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.fr.html">fr</a></span>
   <span class="hidden"><a href="./virt-manager.fr.html">Français
   (100%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.it.html">it</a></span>
   <span class="hidden"><a href="./virt-manager.it.html">Italiano
   (8%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.pl.html">pl</a></span>
   <span class="hidden"><a href="./virt-manager.pl.html">Polish
   (10%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.pt.html">pt</a></span>
   <span class="hidden"><a href="./virt-manager.pt.html">PortuguÃªs
   (11%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.tr.html">tr</a></span>
   <span class="hidden"><a href="./virt-manager.tr.html">Turkish
   (10%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.ru.html">ru</a></span>
   <span class="hidden"><a href="./virt-manager.ru.html">Russian
   (10%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.zh.html">zh</a></span>
   <span class="hidden"><a href="./virt-manager.zh.html">Chinese
   (10%)
   </a>
   </span>

   </li>
   

   <li >

   <span class="visible"><a href="./virt-manager.zh_TW.html">zh_TW</a></span>
   <span class="hidden"><a href="./virt-manager.zh_TW.html">Chinese(Taiwan)
   (8%)
   </a>
   </span>

   </li>
   
</ul>
</div>




<div class="trails">
<div class="trail">

<span class="trailprev">
<span class="trailarrow">←</span>
<a href="./boxes.sr_Latn.html">GNOME Boxes</a>
<span class="trailsep">|</span>
</span>

<span class="trailup">
<a href="../../advanced_topics.index.sr_Latn.html">advanced topics.index.sr Latn</a>
</span>

<span class="trailnext">
<span class="trailsep">|</span>
<a href="../lan.sr_Latn.html">Accessing resources on the local network</a>
<span class="trailarrow">→</span>
</span>

</div>
</div>




</div>



<div class="sidebar" role="navigation">
<div class="download button">
  <a href="../../../install.sr_Latn.html"><span class="download">Install</span>
    <span class="tails">Tails 
3.9
</span>
    <span class="date">
2018-09-05</span></a>
</div>




<div class="links">
  <ul>
    <li><a href="../../../about.sr_Latn.html">About</a></li>
    <li><a href="../../../getting_started.sr_Latn.html">Getting started…</a></li>
    <li><a href="../../../doc.sr_Latn.html">Documentation</a></li>
    <li><a href="../../../support.sr_Latn.html">Help &amp; Support</a></li>
    <li><a href="../../../contribute.sr_Latn.html">Contribute</a></li>
    <li><a href="../../../news.sr_Latn.html">News</a></li>
  </ul>
</div>




<div class="donate button">
    <a href="https://tails.boum.org/donate?r=sidebar">Donate</a>
</div>


</div>



<div id="pagebody">

<div id="content" role="main">
<p><a href="http://virt-manager.org/"><span class="application">virt-manager</span></a> is a free software
virtualization solution for Linux. <em>virt-manager</em> has a more complex
interface than <em>VirtualBox</em> or <em>GNOME Boxes</em> but it also has a more
complete set of features.</p>

<div class="caution">

Running Tails inside a virtual machine has <a href="../virtualization.en.html#security">various security
implications</a>. Depending on the host operating system and your security
needs, running Tails in a virtual machine might be dangerous.

</div>




<div class="tip">

<span class="application">virt-manager</span> is the only virtualization
solution that we present that allows the use of a persistent
volume.</span>

</div>




<div class="note">

<p>The following instructions have been tested on Debian Stretch.</p>

</div>




<div class="toc">
<ol>
	<li class="L1"><a href="#index1h1">Terminology</a>
	</li>
	<li class="L1"><a href="#index2h1">Installation</a>
	</li>
	<li class="L1"><a href="#index3h1">Running Tails from an ISO image</a>
	</li>
	<li class="L1"><a href="#index4h1">Running Tails from a USB stick</a>
	</li>
	<li class="L1"><a href="#index5h1">Running Tails from a virtual USB storage</a>
	</li>
	<li class="L1"><a href="#index6h1">Troubleshooting</a>
	</li>
</ol>
</div>


<h1><a name="index1h1"></a>Terminology</h1>

<p><em>virt-manager</em> is based on a set of lower level virtualization tools,
going from the user interface to the hardware interactions with the
processor. This terminology is a bit confusing and other documentation
might mention the following tools:</p>

<ul>
<li><em>KVM</em> is the module of the Linux kernel that interacts with the
virtualization features of the processor.</li>
<li><em>QEMU</em> is the virtualization software that emulates virtual processors
and peripherals based on <em>KVM</em> and that starts and stops virtual
machines.</li>
<li><em>libvirt</em> is a library that allows <em>virt-manager</em> to interact with the
virtualization capabilities provided by <em>QEMU</em>.</li>
<li><em>SPICE</em> is a protocol that allows to visualize the desktop of virtual
machines.</li>
<li><em>virt-manager</em> is the graphical interface that allows to create,
configure, and run virtual machines.</li>
</ul>


<p><a id="iso"></a></p>

<h1><a name="index2h1"></a>Installation</h1>

<p>To install <em>virt-manager</em> in Debian, execute the following command:</p>

<pre><code>sudo apt install virt-manager libvirt-daemon-system
</code></pre>

<p>To install <em>virt-manager</em> in Ubuntu, execute the following command:</p>

<pre><code>sudo apt install virt-manager libvirt-bin qemu-kvm
</code></pre>

<h1><a name="index3h1"></a>Running Tails from an ISO image</h1>

<ol>
<li>Start <em>virt-manager</em>.</li>
<li>Double-click on <strong>localhost (QEMU)</strong> to connect to the <em>QEMU</em>
 system of your host.</li>
<li>To create a new virtual machine, choose
 <span class="menuchoice"> <span class="guimenu">File</span>&nbsp;▸ <span class="guimenuitem">New Virtual Machine</span></span>.</li>
<li>In <em>step 1</em>, choose <strong>Local install media (ISO image or CDROM)</strong>.</li>
<li>In <em>step 2</em>, choose:

<ul>
<li><strong>Use ISO image</strong>, then <strong>Browse...</strong>, and <strong>Browse Local</strong> to
browse for the ISO image that you want to start from.</li>
<li><strong>OS type</strong>: <strong>Linux</strong>.</li>
<li><strong>Version</strong>: <strong>Debian Stretch</strong>.</li>
</ul>
</li>
<li>In <em>step 3</em>, allocate at least 2048 MB of RAM.</li>
<li>In <em>step 4</em>, disable storage for this virtual machine.</li>
<li>In <em>step 5</em>:

<ul>
<li>Type a name for the new virtual machine.</li>
<li>Click <strong>Finish</strong> to start the virtual machine.</li>
</ul>
</li>
</ol>


<div class="tip">

If you get the error message "<span class="guilabel">Error starting
domain: Requested operation is not valid: network 'default' is not
active</span>", then try to start the default virtual network:

<ol>
<li>Click on <span class="guilabel">localhost (QEMU)</span>.</li>
<li>Choose <span class="menuchoice">
    <span class="guimenu">Edit</span>&nbsp;▸
    <span class="guimenuitem">Connection details</span></span> to
    administer the connection to your local
    <span class="application">QEMU</span> system.</li>
<li>Click on <span class="guilabel">Virtual Networks</span> tab, then
    select the <span class="guilabel">default</span> virtual network in
    the left pane.</li>
<li>Click on the <img src="./media-playback-start.png" width="16" height="16" alt="Start Network" class="symbolic" /> icon on the bottom of the left pane to
    start the default virtual network.</li>
</ol>

</div>


<p><a id="usb"></a></p>

<h1><a name="index4h1"></a>Running Tails from a USB stick</h1>

<p>To run Tails from a USB stick using <em>virt-manager</em>, first create a virtual
machine running from an ISO image as described <a href="./virt-manager.sr_Latn.html#iso">above</a>.</p>

<p>Then do the following:</p>

<ol>
<li>From the virtual machine window, choose <span class="menuchoice"> <span class="guimenu">Virtual Machine</span>&nbsp;▸ <span class="guisubmenuitem">Shut Down</span>&nbsp;▸ <span class="guimenuitem">Force Off</span></span> to shut down the virtual
 machine.</li>
<li>Plug in the USB stick from which you want to run Tails.</li>
<li>Choose <span class="menuchoice"> <span class="guimenu">View</span>&nbsp;▸ <span class="guimenuitem">Details</span></span> to edit the configuration of
 the virtual machine.</li>
<li>Click on the <strong>Add Hardware</strong> button on the bottom of the left pane.</li>
<li>Select <strong>USB Host Device</strong> in the left pane.</li>
<li>In the right pane, click on the device from which you want to run
 Tails, and click <strong>Finish</strong>.</li>
</ol>


<p>You can keep the original ISO image connected as a virtual DVD to install
Tails onto the USB stick if needed.</p>

<p><a id="disconnect"></a></p>

<p>You can also disconnect the original ISO image and start directly from the
USB stick once Tails is already installed on it. To do so:</p>

<ol>
<li>Shut down the virtual machine.</li>
<li>In the configuration of the virtual machine, click on <strong>IDE CDROM
 1</strong> in the left pane.</li>
<li>Click on the <strong>Disconnect</strong> button in the right pane.</li>
<li>To enable the USB stick as a boot option:

<ol>
<li>Click on <strong>Boot Options</strong> in the left pane.</li>
<li>Select the <strong>USB</strong> boot option corresponding to your USB device.</li>
<li>Click <strong>Apply</strong>.</li>
</ol>
</li>
<li>To start the virtual machine choose
 <span class="menuchoice">
 <span class="guimenu">View</span>&nbsp;▸
 <span class="guimenuitem">Console</span></span> and then
 <span class="menuchoice">
 <span class="guimenu">Virtual Machine</span>&nbsp;▸
 <span class="guimenuitem">Run</span></span>.</li>
</ol>


<p>Once you started from the USB device you can <a href="../../first_steps/persistence/configure.sr_Latn.html">create a persistent
volume</a> on it.</p>

<p><a id="virtual_usb"></a></p>

<h1><a name="index5h1"></a>Running Tails from a virtual USB storage</h1>

<p>You can also run Tails from a virtual USB storage, saved as a single file on
the host operating system.</p>

<p>To run Tails from a virtual USB device using <em>virt-manager</em>, first create a
virtual machine running from an ISO image as described
<a href="./virt-manager.sr_Latn.html#iso">above</a>.</p>

<p>Then do the following to create a virtual USB storage:</p>

<ol>
<li>From the virtual machine window, choose <span class="menuchoice"> <span class="guimenu">Virtual Machine</span>&nbsp;▸ <span class="guisubmenuitem">Shut Down</span>&nbsp;▸ <span class="guimenuitem">Force Off</span></span> to shut down the virtual
 machine.</li>
<li>Choose <span class="menuchoice"> <span class="guimenu">View</span>&nbsp;▸ <span class="guimenuitem">Details</span></span> to edit the configuration of
 the virtual machine.</li>
<li>Click on the <strong>Add Hardware</strong> button on the bottom of the left pane.</li>
<li>Select <strong>Storage</strong> in the left pane.</li>
<li>In the right pane, change the <strong>Bus type</strong> to USB and click <strong>Finish</strong>.</li>
<li>Select <strong>USB Disk 1</strong> in the left pane.</li>
<li>In the right pane, select the <strong>Removable</strong> option and click <strong>Apply</strong>.</li>
</ol>


<p>Then start the virtual machine from the virtual DVD to install Tails onto
the virtual USB storage using <em>Tails Installer</em>. The virtual USB storage
appears in <em>Tails Installer</em> as <strong>QEMU HARDDISK</strong>.</p>

<p>After that you can disconnect the original ISO image and start directly from
the virtual USB stick <a href="./virt-manager.sr_Latn.html#disconnect">as described in the previous
section</a>.</p>

<p>Once you started from the virtual USB device you can <a href="../../first_steps/persistence/configure.sr_Latn.html">create a persistent
volume</a> on it.</p>

<h1><a name="index6h1"></a>Troubleshooting</h1>

<p><a id="graphics-issues"></a></p>

<h2><a name="index1h2"></a>Graphics issues</h2>

<p>Issues with graphics support in Tails running inside a virtual machine with
<em>virt-manager</em> are common. The best solution can vary depending on the
version of the virtualization solution and on the virtual machine
configuration. For example:</p>

<ul>
<li>The <em>Auto resize VM with window</em> feature does not work in all
configurations.</li>
<li>The video device that provides optimal graphics performance can be
different depending on the version of the host operating system.</li>
</ul>


<p>To troubleshoot such issues:</p>

<ol>
<li><p>Ensure the virtual machine has a <em>Spice</em> display and a <em>Spice</em> channel
configured, as opposed to <em>VNC</em> ones.</p></li>
<li><p>Try various virtual video device models.</p>

<p>Start with <em>Virtio</em> and <em>QXL</em> video devices: they generally give
the best results. If they don't perform well for you, try every
other video device model.</p></li>
</ol>


</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">


<div class="trails">
<div class="trail">

<span class="trailprev">
<span class="trailarrow">←</span>
<a href="./boxes.sr_Latn.html">GNOME Boxes</a>
<span class="trailsep">|</span>
</span>

<span class="trailup">
<a href="../../advanced_topics.index.sr_Latn.html">advanced topics.index.sr Latn</a>
</span>

<span class="trailnext">
<span class="trailsep">|</span>
<a href="../lan.sr_Latn.html">Accessing resources on the local network</a>
<span class="trailarrow">→</span>
</span>

</div>
</div>






<div id="backlinks">
Pages linking to this one:

<a href="../../advanced_topics.index.sr_Latn.html">advanced topics.index.sr Latn</a>

<a href="../../../news/report_2015_01-02.html">news/report 2015 01-02</a>

<a href="../../../news/version_2.5.sr_Latn.html">news/version 2.5.sr Latn</a>

<a href="../../../support/known_issues.sr_Latn.html">support/known issues.sr Latn</a>

<a href="../../../support/known_issues/graphics.sr_Latn.html">support/known issues/graphics.sr Latn</a>

<a href="../virtualization.sr_Latn.html">virtualization.sr Latn</a>


</div>






</div>
<div id="mirrorlist">Mirror: <a href="https://tails.boum.org/ikiwiki.cgi?do=goto&page=doc/advanced_topics/virtualization/virt-manager.sr_Latn">tails.boum.org</a></div>

<!-- from The Amnesic Incognito Live System -->
</div>

</div>

<script type="text/javascript">
  var linkelements = document.querySelectorAll('.use-mirror-pool');
  if(linkelements.length > 0) {
    replaceUrlPrefixWithRandomMirror(linkelements);
  }
</script>

</body>
</html>
