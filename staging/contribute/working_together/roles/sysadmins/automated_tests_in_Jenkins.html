<!DOCTYPE html>

<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tails - Automated ISO tests on Jenkins</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../../../../favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../../local.css" type="text/css" />


<script src="../../../../lib/js/mirror-dispatcher.js" type="text/javascript"></script>









</head>


<body class="en">


<div class="searchform">



</div>

<div class="banner" role="banner">
  <a class="tails" href="../../../../index.en.html">
    <span class="acronym">Tails</span><br/>
    <span class="slogan">The Amnesic Incognito Live System</span>
  </a>
</div>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">
<ul id="crumbs">
<li><a href="../../../../index.en.html"><img src="../../../../lib/home.png"></a></li>







<li><a href="../../../../contribute.en.html">contribute</a></li>





<li><a href="../../../working_together.html">working together</a></li>





<li><a href="../../roles.html">roles</a></li>





<li><a href="../sysadmins.html">sysadmins</a></li>




<li>Automated ISO tests on Jenkins</li>

</ul>
</span>
<span class="title">
Automated ISO tests on Jenkins
</span>
</span>
</div>










</div>



<div class="sidebar" role="navigation">
<div class="download button">
  <a href="../../../../install.en.html"><span class="download">Install</span>
    <span class="tails">Tails 
3.9
</span>
    <span class="date">
2018-09-05</span></a>
</div>




<div class="links">
  <ul>
    <li><a href="../../../../about.en.html">About</a></li>
    <li><a href="../../../../getting_started.en.html">Getting startedâ€¦</a></li>
    <li><a href="../../../../doc.en.html">Documentation</a></li>
    <li><a href="../../../../support.en.html">Help &amp; Support</a></li>
    <li><a href="../../../../contribute.en.html">Contribute</a></li>
    <li><a href="../../../../news.en.html">News</a></li>
  </ul>
</div>




<div class="donate button">
    <a href="https://tails.boum.org/donate?r=sidebar">Donate</a>
</div>


</div>



<div id="pagebody">

<div id="content" role="main">
<h1>Force all scenarios to be tested</h1>

<p>Branches whose name ends with the <code>+force-all-tests</code> suffix will run
the full test suite, including scenarios tagged <code>@fragile@</code>.</p>

<h1>Old ISO used in the test suite in Jenkins</h1>

<p>Some tests like upgrading Tails are done against a Tails installation made from
the previously released ISO.</p>

<p>In some cases (e.g when the <em>Tails Installer</em> interface has changed), we need to
temporarily change this behaviour to make tests work. To have Jenkins
use the ISO being tested instead of the last released one:</p>

<ol>
<li><p>Set <code>USE_LAST_RELEASE_AS_OLD_ISO=no</code> in the
<code>macros/test_Tails_ISO.yaml</code> and
<code>macros/manual_test_Tails_ISO.yaml</code> files in the
<code>jenkins-jobs</code> Git repository
(<code>gitolite@git.puppet.tails.boum.org:jenkins-jobs</code>).</p>

<p>Documentation and policy to access this repository is the same as
for our <a href="../../../git.html#puppet">Puppet modules</a>.</p>

<p>See for example
<a href="https://git-tails.immerda.ch/jenkins-jobs/commit/?id=371be73">commit 371be73</a>.</p>

<p><div class="note">
Treat the repository at immerda as a read-only mirror: any change
pushed there does not affect our infrastructure and will
be overwritten.
</div></p>

<p>Under the hood, once this change is applied Jenkins will pass the
ISO being tested (instead of the last released one) to
<code>run_test_suite</code>'s <code>--old-iso</code> argument.</p></li>
<li><p>File a ticket to ensure this temporarily change gets reverted
in due time.</p></li>
</ol>


</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">







<div id="backlinks">
Pages linking to this one:

<a href="../../../release_process/test/automated_tests.html">release process/test/automated tests</a>

<a href="../sysadmins.html">sysadmins</a>


</div>






</div>
<div id="mirrorlist">Mirror: <a href="https://tails.boum.org/ikiwiki.cgi?do=goto&page=contribute/working_together/roles/sysadmins/automated_tests_in_Jenkins">tails.boum.org</a></div>

<!-- from The Amnesic Incognito Live System -->
</div>

</div>

<script type="text/javascript">
  var linkelements = document.querySelectorAll('.use-mirror-pool');
  if(linkelements.length > 0) {
    replaceUrlPrefixWithRandomMirror(linkelements);
  }
</script>

</body>
</html>
