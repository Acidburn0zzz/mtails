<!DOCTYPE html>

<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tails - Verifying a Tails image for reproducibility</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../../favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../../style.css" type="text/css" />

<link rel="stylesheet" href="../../local.css" type="text/css" />


<script src="../../lib/js/mirror-dispatcher.js" type="text/javascript"></script>









</head>


<body class="en">


<div class="searchform">



</div>

<div class="banner" role="banner">
  <a class="tails" href="../../index.en.html">
    <span class="acronym">Tails</span><br/>
    <span class="slogan">The Amnesic Incognito Live System</span>
  </a>
</div>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">
<ul id="crumbs">
<li><a href="../../index.en.html"><img src="../../lib/home.png"></a></li>







<li><a href="../../contribute.en.html">contribute</a></li>





<li><a href="../build.html">build</a></li>




<li>Verifying a Tails image for reproducibility</li>

</ul>
</span>
<span class="title">
Verifying a Tails image for reproducibility
</span>
</span>
</div>










</div>



<div class="sidebar" role="navigation">
<div class="download button">
  <a href="../../install.en.html"><span class="download">Install</span>
    <span class="tails">Tails 
3.9
</span>
    <span class="date">
2018-09-05</span></a>
</div>




<div class="links">
  <ul>
    <li><a href="../../about.en.html">About</a></li>
    <li><a href="../../getting_started.en.html">Getting startedâ€¦</a></li>
    <li><a href="../../doc.en.html">Documentation</a></li>
    <li><a href="../../support.en.html">Help &amp; Support</a></li>
    <li><a href="../../contribute.en.html">Contribute</a></li>
    <li><a href="../../news.en.html">News</a></li>
  </ul>
</div>




<div class="donate button">
    <a href="https://tails.boum.org/donate?r=sidebar">Donate</a>
</div>


</div>



<div id="pagebody">

<div id="content" role="main">


<div class="toc">
<ol>
	<li class="L1"><a href="#index1h1">What are reproducible builds?</a>
	</li>
	<li class="L1"><a href="#index2h1">Why is it important?</a>
	</li>
	<li class="L1"><a href="#index3h1">Build and compare a Tails ISO image</a>
	<ol>
		<li class="L2"><a href="#index1h2">Build a Tails ISO image</a>
		</li>
		<li class="L2"><a href="#index2h2">How do I verify the ISO I have built against the official one?</a>
		<ol>
			<li class="L3"><a href="#index1h3">Verify with OpenPGP</a>
			</li>
			<li class="L3"><a href="#index2h3">Verify with a checksum</a>
			</li>
		</ol>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index4h1">Build and compare a Tails upgrade (IUK)</a>
	<ol>
		<li class="L2"><a href="#index3h2">Build a Tails IUK</a>
		</li>
		<li class="L2"><a href="#index4h2">Verify IUKs</a>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index5h1">Related information</a>
	</li>
</ol>
</div>


<h1><a name="index1h1"></a>What are reproducible builds?</h1>

<blockquote><p>Reproducible builds are a set of software development practices that
create a verifiable path from human readable source code to the binary
code used by computers.</p>

<p>Most aspects of software verification are done on source code, as that
is what humans can reasonably understand. But most of the time,
computers require software to be first built into a long string of
numbers to be used. With reproducible builds, multiple parties can redo
this process independently and ensure they all get exactly the same
result. We can thus gain confidence that a distributed binary code is
indeed coming from a given source code.</p></blockquote>

<p>(Quoted from <a href="https://reproducible-builds.org">https://reproducible-builds.org</a>)</p>

<p>Tails ISO images should be reproducible: everybody who
builds the ISO should be able to obtain the exact same resulting ISO
image from a given Git tag.</p>

<h1><a name="index2h1"></a>Why is it important?</h1>

<p>Reproducibility increases confidence in the value of our continuous
quality assurance processes as well as the trust that users, and anyone
interested can put into our released build products (such as ISO images)
and our development and release process.</p>

<p>Reproducible builds help <a href="https://reproducible-builds.org/docs/buy-in/">detect
bugs</a> and ensure that
there is no bit flip that makes us waste precious hours during a release
process.</p>

<p>Most important, a reproducible build allows for independent verification
that a build product matches what the source intended to produce. This
helps to better resist <a href="https://reproducible-builds.org/docs/buy-in/">attacks against build machines and
developers</a>, improves
users' security, and allows developers to sleep better at night (as the
incentive for an attacker to compromise developers' systems, or to
compromise developers themselves, is lowered). In turn, this avoids the
need to trust people (or software) who build the ISO we release, which
in turn allows more people to get involved in release management work.</p>

<p>Release managers do not have to upload the ISO image anymore when they
do a release: they can  instead build it both on our infrastructure
(Jenkins) and locally and compare the outputs: if they match, one can
publish the ISO built by Jenkins. Uploading an ISO can take many hours
with some commonly found means of accessing the Internet, so removing
the need to go through this step decreases our time to remediation for
fixing security issues, and makes it easier for developers with poor
access to the Internet to take care of a release.</p>

<h1><a name="index3h1"></a>Build and compare a Tails ISO image</h1>

<h2><a name="index1h2"></a>Build a Tails ISO image</h2>

<p>See the <a href="../build.html">build instructions</a>.</p>

<p><a id="verify-iso"></a></p>

<h2><a name="index2h2"></a>How do I verify the ISO I have built against the official one?</h2>

<p>You can verify that the ISO image you have built is identical to the
official one we published either with OpenPGP or with a checksum.</p>

<h3><a name="index1h3"></a>Verify with OpenPGP</h3>

<p>When you reproducibly build our ISO you should obtain a file that is
exactly the same as the official Tails ISO image, thus, <em>our</em> signature
should be able to verify <em>your</em> ISO for you.</p>

<p><a href="../../install/download.en.html#openpgp">Download and verify our OpenPGP signature</a>
against your own ISO image.</p>

<h3><a name="index2h3"></a>Verify with a checksum</h3>

<p>To verify that the ISO image you have built is identical as the
official one:</p>

<ol>
<li><p>Compute the checksum of your ISO image by executing the following
command on it:</p>

<pre><code> sha256sum yourimage.iso
</code></pre></li>
<li><p>Compare the SHA-256 checksum of your ISO image with the one found
in the official <a href="https://tails.boum.org/install/v1/Tails/amd64/stable/latest.yml">ISO description file</a>.</p></li>
</ol>


<h1><a name="index4h1"></a>Build and compare a Tails upgrade (IUK)</h1>

<h2><a name="index3h2"></a>Build a Tails IUK</h2>

<p>See
<a href="../release_process.html#prepare-iuk">Build the Incremental Upgrade Kits</a>
section in our Release process documentation.</p>

<h2><a name="index4h2"></a>Verify IUKs</h2>

<p>You can get the SHA-256 of any IUK by setting the <code>SOURCE</code> and
<code>TARGET</code> variables appropriately, for example:</p>

<pre><code># For Tails_amd64_3.0_to_3.1.iuk
SOURCE=3.0
TARGET=3.1
</code></pre>

<p>and then run:</p>

<pre><code>UDF="wiki/src/upgrade/v1/Tails/${SOURCE}/amd64/stable/upgrades.yml"
if gpg --verify ${UDF}.pgp ${UDF}; then
  python3 &lt;&lt;EOF
import yaml
with open('${UDF}') as f:
  data = yaml.load(f)
upgrade = next(x for x in data['upgrades']
               if x['version'] == '${TARGET}')
incremental = next(x for x in upgrade['upgrade-paths']
                   if x['type'] == 'incremental')
iuk = next(x for x in incremental['target-files']
           if x['url'].endswith('Tails_amd64_${SOURCE}_to_${TARGET}.iuk'))
print('SHA-256:', iuk['sha256'])
EOF
else
  echo 'OpenPGP verification of the UDF failed. Are you sure you have ' \
       'Tails signing key imported into you keyring?' &gt;&amp;2
fi
</code></pre>

<h1><a name="index5h1"></a>Related information</h1>

<p>More detailed information can be found on our <span class="createlink">blueprint about
Reproducible Builds</span>.</p>

</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">







<div id="backlinks">
Pages linking to this one:

<a href="../build.html">build</a>

<a href="../../news/report_2017_09.html">news/report 2017 09</a>

<a href="../../news/report_2018_03.html">news/report 2018 03</a>

<a href="../../news/reproducible_Tails.en.html">news/reproducible Tails</a>

<a href="../../news/reproducible_Tails.ar.html">news/reproducible Tails.ar</a>

<a href="../../news/reproducible_Tails.ca.html">news/reproducible Tails.ca</a>

<a href="../../news/reproducible_Tails.de.html">news/reproducible Tails.de</a>

<a href="../../news/reproducible_Tails.es.html">news/reproducible Tails.es</a>

<a href="../../news/reproducible_Tails.fa.html">news/reproducible Tails.fa</a>

<a href="../../news/reproducible_Tails.fr.html">news/reproducible Tails.fr</a>


<span class="popup">...
<span class="balloon">

<a href="../../news/reproducible_Tails.it.html">news/reproducible Tails.it</a>

<a href="../../news/reproducible_Tails.pl.html">news/reproducible Tails.pl</a>

<a href="../../news/reproducible_Tails.pt.html">news/reproducible Tails.pt</a>

<a href="../../news/reproducible_Tails.ru.html">news/reproducible Tails.ru</a>

<a href="../../news/reproducible_Tails.sr_Latn.html">news/reproducible Tails.sr Latn</a>

<a href="../../news/reproducible_Tails.tr.html">news/reproducible Tails.tr</a>

<a href="../../news/reproducible_Tails.zh.html">news/reproducible Tails.zh</a>

<a href="../../news/reproducible_Tails.zh_TW.html">news/reproducible Tails.zh TW</a>

<a href="../../news/version_3.6.1.en.html">news/version 3.6.1</a>

<a href="../../news/version_3.6.1.ar.html">news/version 3.6.1.ar</a>

<a href="../../news/version_3.6.1.ca.html">news/version 3.6.1.ca</a>

<a href="../../news/version_3.6.1.de.html">news/version 3.6.1.de</a>

<a href="../../news/version_3.6.1.es.html">news/version 3.6.1.es</a>

<a href="../../news/version_3.6.1.fa.html">news/version 3.6.1.fa</a>

<a href="../../news/version_3.6.1.fr.html">news/version 3.6.1.fr</a>

<a href="../../news/version_3.6.1.it.html">news/version 3.6.1.it</a>

<a href="../../news/version_3.6.1.pl.html">news/version 3.6.1.pl</a>

<a href="../../news/version_3.6.1.pt.html">news/version 3.6.1.pt</a>

<a href="../../news/version_3.6.1.ru.html">news/version 3.6.1.ru</a>

<a href="../../news/version_3.6.1.sr_Latn.html">news/version 3.6.1.sr Latn</a>

<a href="../../news/version_3.6.1.tr.html">news/version 3.6.1.tr</a>

<a href="../../news/version_3.6.1.zh.html">news/version 3.6.1.zh</a>

<a href="../../news/version_3.6.1.zh_TW.html">news/version 3.6.1.zh TW</a>

<a href="../reports/SponsorT/final.html">reports/SponsorT/final</a>

</span>
</span>

</div>






</div>
<div id="mirrorlist">Mirror: <a href="https://tails.boum.org/ikiwiki.cgi?do=goto&page=contribute/build/reproducible">tails.boum.org</a></div>

<!-- from The Amnesic Incognito Live System -->
</div>

</div>

<script type="text/javascript">
  var linkelements = document.querySelectorAll('.use-mirror-pool');
  if(linkelements.length > 0) {
    replaceUrlPrefixWithRandomMirror(linkelements);
  }
</script>

</body>
</html>
