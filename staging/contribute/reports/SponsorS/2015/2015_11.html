<!DOCTYPE html>

<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tails - Tails November 2015 report</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../../../../favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../../local.css" type="text/css" />


<script src="../../../../lib/js/mirror-dispatcher.js" type="text/javascript"></script>









</head>


<body class="en">


<div class="searchform">



</div>

<div class="banner" role="banner">
  <a class="tails" href="../../../../index.en.html">
    <span class="acronym">Tails</span><br/>
    <span class="slogan">The Amnesic Incognito Live System</span>
  </a>
</div>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">
<ul id="crumbs">
<li><a href="../../../../index.en.html"><img src="../../../../lib/home.png"></a></li>







<li><a href="../../../../contribute.en.html">contribute</a></li>





<li><a href="../../../reports.html">reports</a></li>





<li><a href="../../SponsorS.html">SponsorS</a></li>





<li><a href="../../../../index.en.html">2015</a></li>




<li>Tails November 2015 report</li>

</ul>
</span>
<span class="title">
Tails November 2015 report
</span>
</span>
</div>










</div>



<div class="sidebar" role="navigation">
<div class="download button">
  <a href="../../../../install.en.html"><span class="download">Install</span>
    <span class="tails">Tails 
3.9
</span>
    <span class="date">
2018-09-05</span></a>
</div>




<div class="links">
  <ul>
    <li><a href="../../../../about.en.html">About</a></li>
    <li><a href="../../../../getting_started.en.html">Getting startedâ€¦</a></li>
    <li><a href="../../../../doc.en.html">Documentation</a></li>
    <li><a href="../../../../support.en.html">Help &amp; Support</a></li>
    <li><a href="../../../../contribute.en.html">Contribute</a></li>
    <li><a href="../../../../news.en.html">News</a></li>
  </ul>
</div>




<div class="donate button">
    <a href="https://tails.boum.org/donate?r=sidebar">Donate</a>
</div>


</div>



<div id="pagebody">

<div id="content" role="main">


<div class="toc">
<ol>
	<li class="L1"><a href="#index1h1">B. Improve our quality assurance process</a>
	<ol>
		<li class="L2"><a href="#index1h2">B.1. Automatically build ISO images for all the branches of our source code that are under active development</a>
		</li>
		<li class="L2"><a href="#index2h2">B.2. Continuously run our entire test suite on all those ISO images once they are built</a>
		</li>
		<li class="L2"><a href="#index3h2">B.3. Extend the coverage of our test suite</a>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index2h1">C. Scale our infrastructure</a>
	<ol>
		<li class="L2"><a href="#index4h2">C.2. Be able to detect within hours failures and malfunction on our services</a>
		</li>
		<li class="L2"><a href="#index5h2">C.4. Maintain our already existing services</a>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index3h1">D. Migration to Debian Jessie</a>
	<ol>
		<li class="L2"><a href="#index6h2">D.1. Adjust to the change of desktop environment to GNOME Shell</a>
		</li>
		<li class="L2"><a href="#index7h2">D.2. Take advantage of systemd to improve the internals of Tails</a>
		</li>
		<li class="L2"><a href="#index8h2">D.3. Update our test suite for Tails Jessie</a>
		</li>
		<li class="L2"><a href="#index9h2">D.5.1. Release an official version of Tails based on Jessie</a>
		</li>
		<li class="L2"><a href="#index10h2">Various porting to Jessie</a>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index4h1">E. Release management</a>
	</li>
</ol>
</div>


<p>This reports covers the activity of Tails in November 2015.</p>

<p>Everything in this report can be made public.</p>

<h1><a name="index1h1"></a>B. Improve our quality assurance process</h1>

<h2><a name="index1h2"></a>B.1. Automatically build ISO images for all the branches of our source code that are under active development</h2>

<p>In November, <strong>611 ISOs</strong> images were automatically built on our Jenkins setup.</p>

<h2><a name="index2h2"></a>B.2. Continuously run our entire test suite on all those ISO images once they are built</h2>

<p>In November, <strong>314 ISOs</strong> were tested by our Jenkins instance.</p>

<ul>
<li><p>B.2.4. Implement and deploy the best solution from this research</p>

<p>With the 1.7 release, we were able to unify back the way the branches
based on our maintenance branch and the ones based on our development
branch were tested. (<a href="https://labs.riseup.net/code/issues/10409">#10409</a>)</p>

<p>We have deployed the feature that prints out in the test suite logs in
Jenkins a direct link to the collected artifacts of the failing step.
(<a href="https://labs.riseup.net/code/issues/10445">#10445</a>)</p>

<p>We found out that Sikuli was sometimes leaving PNG files in the Jenkins
workspaces, and we worked on a fix. (<a href="https://labs.riseup.net/code/issues/10476">#10476</a>)</p>

<p>We are being short again in disk space and need to anticipate that future
infrastructure features will require more, so we're sorting out what's the real
needs of our isotesters on this side, now that we have more data points.
(<a href="https://labs.riseup.net/code/issues/10396">#10396</a>)</p>

<p>We are also short on isotesters to really test every single automatically
built ISO image. So we're discussing if we need new hardware to cope with the
load, and if so, which kind. (<a href="https://labs.riseup.net/code/issues/9264">#9264</a>)</p>

<p>Meanwhile, our automated test suite will still be a bit more efficient
on testing branches that actually change Tails' code, while testing
only some subset for the branches that only change our website or
documentation. (<a href="https://labs.riseup.net/code/issues/10492">#10492</a>)</p>

<p>We spent a lot of the CI time gathering statistics about the test suite
runs in Jenkins in order to help the team writing the tests to identify
which scenarios were fragile, going forward to the release of the
notifications to contributors.</p>

<p>We discovered that lately our isostesters were not always getting back
online after being rebooted and are investigating why. (<a href="https://labs.riseup.net/code/issues/10601">#10601</a>)</p></li>
</ul>


<h2><a name="index3h2"></a>B.3. Extend the coverage of our test suite</h2>

<ul>
<li><p>First of all, it should be noted that our automated test suite has
been key to identify regressions introduced by porting Tails to
Debian Jessie. A number of such bugs have been found early, that we
would otherwise not have discovered before the first release
candidate of Tails based or Jessie at best, and quite possibly after
the first actual release of Tails based on Jessie.</p></li>
<li><p>B.3.11. Fix newly identified issues to make our test suite more robust and faster</p>

<ul>
<li><p>Increased the number of Tor circuit retries in the test suite (<a href="https://labs.riseup.net/code/issues/10375">#10375</a>).</p></li>
<li><p>Work is in progress to make some test cases, that cause false
positives, more robust:
SSH (<a href="https://labs.riseup.net/code/issues/10498">#10498</a>),
Git (<a href="https://labs.riseup.net/code/issues/10444">#10444</a>),
Windows Camouflage (<a href="https://labs.riseup.net/code/issues/10493">#10493</a>),
Seahorse (<a href="https://labs.riseup.net/code/issues/9095">#9095</a>, <a href="https://labs.riseup.net/code/issues/10500">#10500</a>, <a href="https://labs.riseup.net/code/issues/10501">#10501</a>).</p></li>
<li><p>More such fragile test cases were identified, and are momentarily
disabled in our Jenkins environment. They will be worked on later:
Electrum tests (<a href="https://labs.riseup.net/code/issues/10475">#10475</a>) due to us shipping a too old version of Electrum,
connecting to the #i2p IRC channel (<a href="https://labs.riseup.net/code/issues/10474">#10474</a>),
Synaptic (<a href="https://labs.riseup.net/code/issues/10441">#10441</a>),
APT (<a href="https://labs.riseup.net/code/issues/10496">#10496</a>),
ICMP filtering (<a href="https://labs.riseup.net/code/issues/10499">#10499</a>),
whois (<a href="https://labs.riseup.net/code/issues/10523">#10523</a>),
<code>wait_until_tor_is_working</code> helper (<a href="https://labs.riseup.net/code/issues/10497">#10497</a>),
time synchronization (<a href="https://labs.riseup.net/code/issues/10440">#10440</a>, <a href="https://labs.riseup.net/code/issues/10494">#10494</a>, <a href="https://labs.riseup.net/code/issues/10495">#10495</a>),
Pidgin connecting to OFTC (<a href="https://labs.riseup.net/code/issues/10443">#10443</a>),
watching a WebM video over HTTPS (<a href="https://labs.riseup.net/code/issues/10442">#10442</a>).</p></li>
</ul>
</li>
</ul>


<h1><a name="index2h1"></a>C. Scale our infrastructure</h1>

<h2><a name="index4h2"></a>C.2. Be able to detect within hours failures and malfunction on our services</h2>

<ul>
<li><p>C.2.1. Research and decide what monitoring solution to use
       what tools and abstraction layer to use for configuring it,
       and where to host it.</p>

<p>We researched more deeply how the different candidates were respecting
our specifications, especially about the trust that we will put
into the monitoring machine.</p></li>
</ul>


<h2><a name="index5h2"></a>C.4. Maintain our already existing services</h2>

<p>We kept on answering the requests from the community as well as taking
as well as taking care of security updates as covered by "C.4.4.
Administer our services upto milestone IV" until the end of November.</p>

<p>We settled on a date for a sysadmin sprint in December.</p>

<h1><a name="index3h1"></a>D. Migration to Debian Jessie</h1>

<h2><a name="index6h2"></a>D.1. Adjust to the change of desktop environment to GNOME Shell</h2>

<p>We finished porting Tails to GNOME Shell by fixing the remaining
identified regression: raw HTML was displayed in desktop notifications
(<a href="https://labs.riseup.net/code/issues/7989">#7989</a>).</p>

<h2><a name="index7h2"></a>D.2. Take advantage of systemd to improve the internals of Tails</h2>

<p>The Tor daemon is now managed with systemd, that completes supervision
of critical services (<a href="https://labs.riseup.net/code/issues/5750">#5750</a>).</p>

<p>We also polished code that was previously ported to systemd:</p>

<ul>
<li>Introduced a dedicated systemd target for "Tor has bootstrapped"
state (<a href="https://labs.riseup.net/code/issues/9393">#9393</a>).</li>
<li>Call out to the shell less often in htpdate.service (<a href="https://labs.riseup.net/code/issues/10612">#10612</a>).</li>
<li>Converted the <code>21-gdm_unit_file</code> hook to a drop-in override (<a href="https://labs.riseup.net/code/issues/10606">#10606</a>).</li>
</ul>


<h2><a name="index8h2"></a>D.3. Update our test suite for Tails Jessie</h2>

<p>This is about ticket <a href="https://labs.riseup.net/code/issues/7563">#7563</a> and subtasks. Good progress was made
on this front in November.</p>

<p>These were resolved:</p>

<ul>
<li>Updated the memory erasure automated tests for Jessie (<a href="https://labs.riseup.net/code/issues/9705">#9705</a>, <a href="https://labs.riseup.net/code/issues/8317">#8317</a>);
in passing, made it more robust and accurate.</li>
<li>Disabled screen blanking during the test suite, since it broke some
tests on Jessie (<a href="https://labs.riseup.net/code/issues/10403">#10403</a>); and in passing, we have refactored how we
re-use GNOME/X's environment from scripts in our codebase.</li>
<li>Fixed the "I open the address" step by pasting URLs instead of
typing them char by char (<a href="https://labs.riseup.net/code/issues/10467">#10467</a>).</li>
<li>Updated the "Connect to server" tests for Jessie (<a href="https://labs.riseup.net/code/issues/10325">#10325</a>).</li>
<li>Adapted GNOME notification handling (<a href="https://labs.riseup.net/code/issues/8782">#8782</a>) and applications menu
handling (<a href="https://labs.riseup.net/code/issues/9706">#9706</a>) for Jessie in the test suite.</li>
<li>Ported tests that used syslog to instead use the systemd Journal.</li>
<li>Updated Icedove tests for Jessie.</li>
</ul>


<p>Additionally, we made progress on:</p>

<ul>
<li>With respect to "iptables_parse is buggy for IPv6" (<a href="https://labs.riseup.net/code/issues/9704">#9704</a>): sadly,
we could not find an iptables rules parser in Ruby (to nicely
integrate into our test suite's codebase) that clearly states that
it's compatible with IPv6. So we started looking for candidate
solutions in Python and Perl.</li>
<li>The GnuPG keyserver interaction test cases are being updated for
Jessie (<a href="https://labs.riseup.net/code/issues/9791">#9791</a>).</li>
<li>Updating tests for: USB installation and upgrade, Tor Browser
tests, ICMP filtering.</li>
</ul>


<h2><a name="index9h2"></a>D.5.1. Release an official version of Tails based on Jessie</h2>

<p>Our two usual release managers also did a full code review of the
changes introduced on our Jessie branch so far. No serious problem was
identified, but lots of small polishing tasks have been added.</p>

<p>Based on these good results and the ones we see in our partly ported
automated test suite, we decided a <a href="https://mailman.boum.org/pipermail/tails-dev/2015-November/009790.html">release schedule for Tails
Jessie</a>
which will be released on January 26 and be numbered 2.0. We renamed
accordingly the versions coming after 2.0. Here is the new version
numbers of the releases mentioned in past reports and budgets:</p>

<ul>
<li>Tails 1.9 has been renamed Tails 2.0</li>
<li>Tails 1.10 has been renamed Tails 2.2 (the second major version in a row)</li>
<li>Tails 1.11 has been renamed Tails 2.3</li>
<li>Tails 1.12 has been renamed Tails 2.4</li>
<li>Tails 1.13 has been renamed Tails 2.5</li>
</ul>


<h2><a name="index10h2"></a>Various porting to Jessie</h2>

<p>A lot of other porting to Jessie work was done, that does not really
fit into any of the above categories:</p>

<ul>
<li>Merged and forward-ported changes introduced up to Tails 1.7.</li>
<li>Ported our automatic (incremental) upgrade system to Jessie (<a href="https://labs.riseup.net/code/issues/8083">#8083</a>),
and made its check for free memory smarter (<a href="https://labs.riseup.net/code/issues/8263">#8263</a>, <a href="https://labs.riseup.net/code/issues/10540">#10540</a>).</li>
<li>Fixed synchronizing OpenPGP keys in Seahorse (<a href="https://labs.riseup.net/code/issues/9792">#9792</a>).</li>
<li>Fixed Totem access to the network (<a href="https://labs.riseup.net/code/issues/10593">#10593</a>, <a href="https://labs.riseup.net/code/issues/10603">#10603</a>).</li>
<li>Ensured we use a current version of obfs4proxy (<a href="https://labs.riseup.net/code/issues/10605">#10605</a>).</li>
<li>Made AppArmor profile for cupsd work in read-only persistence mode
(<a href="https://labs.riseup.net/code/issues/10591">#10591</a>).</li>
<li>Fixed string encoding regression that was introduced when porting
WhisperBack to Python 3 (<a href="https://labs.riseup.net/code/issues/10577">#10577</a>).</li>
<li>Restored association of application/pgp-keys MIME type with
Seahorse's "Import Key" application (<a href="https://labs.riseup.net/code/issues/10571">#10571</a>).</li>
<li>Restored AppArmor confinement of Tor on Jessie (<a href="https://labs.riseup.net/code/issues/10528">#10528</a>) that briefly
disappeared with the upgrade to Tor 0.2.7.</li>
<li>Adjusted to the fact that <code>.xsession-errors</code> does not exist anymore
on Jessie (<a href="https://labs.riseup.net/code/issues/9966">#9966</a>).</li>
<li>Restored unmuting and sanitizing ALSA mixer levels at boot time (<a href="https://labs.riseup.net/code/issues/7591">#7591</a>).</li>
<li>Wrote a test case to ensure that NetworkManager change of behaviour
wrt. watching configuration files does not affect us (<a href="https://labs.riseup.net/code/issues/7966">#7966</a>).</li>
</ul>


<p>And some code was cleaned up in passing:</p>

<ul>
<li>Removed obsolete bits of APT pinning (<a href="https://labs.riseup.net/code/issues/10607">#10607</a>).</li>
<li>Removed obsolete workaround for the HashType enum in Tails Upgrader
(<a href="https://labs.riseup.net/code/issues/7042">#7042</a>).</li>
<li>Dropped custom syslinux package with patches for Chromebooks, that
we had included in a Debian Jessie update (<a href="https://labs.riseup.net/code/issues/9292">#9292</a>).</li>
</ul>


<p>We researched some candidate changed and investigated a few potential
problems:</p>

<ul>
<li>Made sure the services we disable at boot time indeed don't start on
Jessie (<a href="https://labs.riseup.net/code/issues/8313">#8313</a>).</li>
<li>Considered replacing some of our code with the GDM to GNOME session
keyboard layout pass-through (<a href="https://labs.riseup.net/code/issues/8713">#8713</a>).</li>
<li>Clarified <code>ttdnsd.service</code> (<a href="https://labs.riseup.net/code/issues/10608">#10608</a>) and <code>laptop-mode.service</code>
(<a href="https://labs.riseup.net/code/issues/9967">#9967</a>) situation on Jessie.</li>
<li>Looked for screen reader support regressions compared to Wheezy
(<a href="https://labs.riseup.net/code/issues/8371">#8371</a>).</li>
<li>Made sure that we have no regression wrt. logging into a text
console on Jessie (<a href="https://labs.riseup.net/code/issues/9408">#9408</a>).</li>
<li>Check if we need to keep memlockd running longer (<a href="https://labs.riseup.net/code/issues/8260">#8260</a>).</li>
<li>Made sure that GNOME 3.14's captive portal handling is disabled on
Tails/Jessie (<a href="https://labs.riseup.net/code/issues/10526">#10526</a>).</li>
<li>Evaluated the Caribou virtual keyboard in Tails/Jessie (<a href="https://labs.riseup.net/code/issues/8281">#8281</a>).</li>
<li>Considered replacing sound-juicer with goobox (<a href="https://labs.riseup.net/code/issues/8393">#8393</a>).</li>
</ul>


<h1><a name="index4h1"></a>E. Release management</h1>

<ul>
<li><p><a href="../../../../news/version_1.7.html">Tails 1.7</a> was released on 2015-11-03:</p>

<ul>
<li>Add an offline mode to disable all networking.</li>
<li>Add Icedove as a technology preview.</li>
<li>Improve the wording of the first screen of Tails Installer.</li>
<li>Upgrade Tor Browser to version 5.0.4 (based on Firefox 38.4.0 ESR).</li>
<li>Update Tor to 0.2.7.4.</li>
<li>Restart Tor automatically if connecting to the Tor network takes too long. (<a href="https://labs.riseup.net/code/issues/9516">#9516</a>)</li>
<li>Prevent wget from leaking the IP address when using the FTP protocol. (<a href="https://labs.riseup.net/code/issues/10364">#10364</a>)</li>
<li>Prevent symlink attack on <code>~/.xsession-errors</code> via <code>tails-debugging-info</code>.</li>
<li>Force synchronization of data on the USB stick at the end of automatic upgrades.</li>
<li>Make the "I2P is ready" notification more reliable.</li>
</ul>
</li>
</ul>


</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">












</div>
<div id="mirrorlist">Mirror: <a href="https://tails.boum.org/ikiwiki.cgi?do=goto&page=contribute/reports/SponsorS/2015/2015_11">tails.boum.org</a></div>

<!-- from The Amnesic Incognito Live System -->
</div>

</div>

<script type="text/javascript">
  var linkelements = document.querySelectorAll('.use-mirror-pool');
  if(linkelements.length > 0) {
    replaceUrlPrefixWithRandomMirror(linkelements);
  }
</script>

</body>
</html>
