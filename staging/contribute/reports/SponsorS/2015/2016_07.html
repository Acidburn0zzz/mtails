<!DOCTYPE html>

<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tails - Tails July 2016 report</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../../../../favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../../local.css" type="text/css" />


<script src="../../../../lib/js/mirror-dispatcher.js" type="text/javascript"></script>









</head>


<body class="en">


<div class="searchform">



</div>

<div class="banner" role="banner">
  <a class="tails" href="../../../../index.en.html">
    <span class="acronym">Tails</span><br/>
    <span class="slogan">The Amnesic Incognito Live System</span>
  </a>
</div>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">
<ul id="crumbs">
<li><a href="../../../../index.en.html"><img src="../../../../lib/home.png"></a></li>







<li><a href="../../../../contribute.en.html">contribute</a></li>





<li><a href="../../../reports.html">reports</a></li>





<li><a href="../../SponsorS.html">SponsorS</a></li>





<li><a href="../../../../index.en.html">2015</a></li>




<li>Tails July 2016 report</li>

</ul>
</span>
<span class="title">
Tails July 2016 report
</span>
</span>
</div>










</div>



<div class="sidebar" role="navigation">
<div class="download button">
  <a href="../../../../install.en.html"><span class="download">Install</span>
    <span class="tails">Tails 
3.9
</span>
    <span class="date">
2018-09-05</span></a>
</div>




<div class="links">
  <ul>
    <li><a href="../../../../about.en.html">About</a></li>
    <li><a href="../../../../getting_started.en.html">Getting startedâ€¦</a></li>
    <li><a href="../../../../doc.en.html">Documentation</a></li>
    <li><a href="../../../../support.en.html">Help &amp; Support</a></li>
    <li><a href="../../../../contribute.en.html">Contribute</a></li>
    <li><a href="../../../../news.en.html">News</a></li>
  </ul>
</div>




<div class="donate button">
    <a href="https://tails.boum.org/donate?r=sidebar">Donate</a>
</div>


</div>



<div id="pagebody">

<div id="content" role="main">


<div class="toc">
<ol>
	<li class="L1"><a href="#index1h1">B. Improve our quality assurance process</a>
	<ol>
		<li class="L2"><a href="#index1h2">B.3. Extend the coverage of our test suite</a>
		</li>
		<li class="L2"><a href="#index2h2">B.4. Freezable APT repository</a>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index2h1">C. Scale our infrastructure</a>
	<ol>
		<li class="L2"><a href="#index3h2">C.4. Maintain our already existing services</a>
		</li>
	</ol>
	</li>
	<li class="L1"><a href="#index3h1">E. Release management</a>
	</li>
</ol>
</div>


<p>This report covers the activity of Tails in July 2016.</p>

<p>Everything in this report is public.</p>

<h1><a name="index1h1"></a>B. Improve our quality assurance process</h1>

<h2><a name="index1h2"></a>B.3. Extend the coverage of our test suite</h2>

<h3><a name="index1h3"></a>B.3.10. Write automated tests for features added in 2016Q1</h3>

<p>This deliverable was completed last month.</p>

<h3><a name="index2h3"></a>B.3.11. Fix newly identified issues to make our test suite more robust and faster</h3>

<p>This month again, we made great progress in making our test suite
more robust.</p>

<p>We implemented retries on transient network failures in several of the
features of our test suite that were affected. It made these
tests robust enough for us to re-enable them in our Jenkins setup:</p>

<ul>
<li>in the SSH and SFTP feature (<a href="https://labs.riseup.net/code/issues/10498">#10498</a>)</li>
<li>in the APT feature (<a href="https://labs.riseup.net/code/issues/10496">#10496</a>)</li>
<li>in the Git feature (<a href="https://labs.riseup.net/code/issues/10444">#10444</a>)</li>
<li>the Synaptic scenario has a proposed patch that has been widely
tested and should be merged for 2.6 (<a href="https://labs.riseup.net/code/issues/10441">#10441</a>).
Hopefully it will also workaround
<a href="https://labs.riseup.net/code/issues/10412">Synaptic segfaults we've seen</a> as well
as <a href="https://labs.riseup.net/code/issues/10900">another related bug</a>.</li>
</ul>


<p>In July, we tackled the parts of our test suite that rely on emulated
removable USB mass storage devices, that have historically been
fragile in our Jenkins setup. Great progress was made, and we
have good hope to be able to re-enable these tests on production
branches in August or September:</p>

<ul>
<li>Tails Installer <a href="https://labs.riseup.net/code/issues/11590">was improved</a> to
behave more robustly despite the brittleness of udisks in some situations
(<a href="https://labs.riseup.net/code/issues/10720">#10720</a>). This allowed the affected tests to run
one step further and in turn to identify another kind of
flaky behavior (<a href="https://labs.riseup.net/code/issues/11588">seemingly random I/O errors on emulated USB devices</a>)
that we fixed by tweaking the kind of hardware which is emulated by QEMU.</li>
<li>We <a href="https://labs.riseup.net/code/issues/11558">identified and fixed</a> a bug in the
step checking the existence of the persistent volume.</li>
<li>We <a href="https://labs.riseup.net/code/issues/10504">identified and fixed</a> a bug in our
the handling of USB sticks created without Tails Installer,
due to a weirdness caused by hybrid ISO images.</li>
</ul>


<p>The above work made memory erasure tests more fragile. Thankfully we
already had <a href="https://labs.riseup.net/code/issues/10733">this potential problem</a> in
mind and we solved it.</p>

<p>While working on tackling the failures of time syncing tests, we
realized that some of the servers we use for htpdate were
offline or broken, making the time syncing brittle.
We <a href="https://labs.riseup.net/code/issues/11577">replaced them</a>,
which improves the situation.</p>

<p>Our test suite needs to add kernel command line options when booting the
Tails VM under test, so that it can run commands inside it. This step
used to be fragile: it sometimes happened that the Tails VM was booted
before our test suite had time to type these options.
We've <a href="https://labs.riseup.net/code/issues/10777">implemented a solution</a> that
should be merged in August.</p>

<h3><a name="index3h3"></a>B.3.12. Reliably wait for post-Greeter hooks (<a href="https://labs.riseup.net/code/issues/5666">#5666</a>)</h3>

<p>We lacked time to work on this, so it is postponed.</p>

<h3><a name="index4h3"></a>B.3.13. Reorganize the "various checks" feature (<a href="https://labs.riseup.net/code/issues/5707">#5707</a>)</h3>

<p>This work has been merged, so this deliverable is now completed.</p>

<h3><a name="index5h3"></a>B.3.14. Write tests for incremental upgrades (<a href="https://labs.riseup.net/code/issues/6309">#6309</a>)</h3>

<p>This is still work in progress. We went through one more iteration,
and hope to complete it soon.</p>

<h3><a name="index6h3"></a>B.3.15. Write automated tests for features added in 2016Q2</h3>

<p>We <a href="https://labs.riseup.net/code/issues/10840">wrote a regression test</a> for the
persistence "dotfiles" feature. This completes this deliverable.</p>

<h2><a name="index2h2"></a>B.4. Freezable APT repository</h2>

<p>This was delivered already, but still we kept polishing this system:</p>

<ul>
<li><p>We wrote documentation and a helper tool for freeze exceptions
(<a href="https://labs.riseup.net/code/issues/11448">#11448</a>).</p></li>
<li><p>We've investigated and fixed the root cause of a weird issue, when
a package was not removed from our time-based APT snapshots, while
it should have been (<a href="https://labs.riseup.net/code/issues/11496">#11496</a>).</p></li>
<li><p>We have dealt with the consequences that our new APT snapshots system has
on our server's <code>apt-cacher-ng</code> cache size (<a href="https://labs.riseup.net/code/issues/11532">#11532</a>).</p></li>
</ul>


<p>During the Tails 2.5 release process, we've
<a href="https://labs.riseup.net/code/issues/11612">identified a problem</a> in how we handle
frozen APT repositories for bugfix releases. We want to fix it by the
end of September.</p>

<h1><a name="index2h1"></a>C. Scale our infrastructure</h1>

<h2><a name="index3h2"></a>C.4. Maintain our already existing services</h2>

<ul>
<li><p>C.4.6. Administer our services upto milestone VI</p>

<p>We kept on answering the requests from the community and taking care
of security updates.</p>

<p>We started making plans to handle the
<a href="https://labs.riseup.net/code/issues/11543">migration to Puppet 4</a>.</p></li>
</ul>


<h1><a name="index3h1"></a>E. Release management</h1>

<p>No releases were put out in July.</p>

</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">












</div>
<div id="mirrorlist">Mirror: <a href="https://tails.boum.org/ikiwiki.cgi?do=goto&page=contribute/reports/SponsorS/2015/2016_07">tails.boum.org</a></div>

<!-- from The Amnesic Incognito Live System -->
</div>

</div>

<script type="text/javascript">
  var linkelements = document.querySelectorAll('.use-mirror-pool');
  if(linkelements.length > 0) {
    replaceUrlPrefixWithRandomMirror(linkelements);
  }
</script>

</body>
</html>
