[[!meta title="Tails January 2016 report"]]

[[!toc levels=2]]

<div class="caution">
<strong>Deadline: 2016-02-05</strong>
</div>

<div class="note">
Deliverable identifiers and descriptions are not free-form: they must
be copy'n'pasted as-is from the proposal sent to the sponsor.
</div>

[Last month's activity on Redmine](https://labs.riseup.net/code/projects/tails/issues?query_id=208)
can be helpful.

This reports covers the activity of Tails in January 2016.

Everything in this report can be made public.

# A. Replace Claws Mail with Icedove

Last month we modified our Icedove schedule quite a bit, but due to sickness, some work has been delayed, while other tasks have moved forward faster than expected.

The proof-of-concept branch, that integrates the secured wizard into Tails, is delayed until the end of February; thus, releasing this feature in Tails will take place in 2.3 instead. The process of trying to have our patches merged upstream (A.1.2) has already moved forward.

## A.1.1 Secure the Icedove autoconfig wizard

   We've been evaluating our own patches for Icedove against those
   reported to Mozilla's bugtracker and are happy to announce that our
   patches would provide an option to accept only secure protocols, as
   a user opt-in. These patches will be submitted to Mozilla's bugtracker
   and hopefully integrated upstream.
   ([[!tails_ticket 7064]])

## A.1.2 Make our improvements maintainable for future versions of Icedove

   Unfortunately we also discovered that the autoconfig wizard of Icedove does
   not always use the configured proxy. This means, that some traffic can leak.
   This is not a security problem in Tails since we drop non-Tor
   traffic by default, but for this very reason it breaks the
   functionality of the autoconfig wizard in the context of Tails.
   We started to write a proof-of-concept patch to fix this bug which 
   will be submitted upstream in February.

   We've worked out a set of strong arguments before actually presenting our patches to upstream. We are now ready to do that.

   In order to improve Icedove's security in Tails and avoid unforeseen exploits,
   we started evaluating an AppArmor profile for Icedove ([[!tails_ticket 10750]]).
   We've asked the author to submit it upstream where it's now waiting to be merged.
   In the meantime, we will ship this profile in Tails on our own.

## A.1.6. Release Icedove in Tails

   Icedove was made the default email client in Tails 1.8 (December 15)
   and Claws Mail was removed from Tails in version 2.0 (January 26).

# B. Improve our quality assurance process

## B.1. Automatically build ISO images for all the branches of our source code that are under active development

In January, **757 ISO images** were automatically built by our Jenkins
instance.

We worked on designing and implementing a workaround for an issue in our
autobuild setup: it sometimes happens that a build fails and leaves its
temporary directories. The subsequent builds happening on the same
system then always fail as they lack room in the /tmp/ directory.
([[!tails_ticket 10772]])

## B.2. Continuously run our entire test suite on all those ISO images once they are built

In January, **757 ISO images** were tested by our Jenkins instance.

* B.2.4. Implement and deploy the best solution from this research: [[!tails_ticket 5288]]

We installed the Jenkins `Cluster Statistics` plugin in order to get a
better idea of our Jenkins slaves usage. ([[!tails_ticket 10969]])

We perfected the scripts we use to compute statistics about our ISO
builds and tests run in Jenkins.

We planed to design a collective way to check regulary for false
positive and fragile scenarios, as it has proven to be not that well
handled by our team. This is planed to be discussed and implemented at
our monthly CI team meeting. ([[!tails_ticket 10993]])

## B.3. Extend the coverage of our test suite

* B.3.7. Automatically test behavior on boot medium removal:
  [[!tails_ticket 5472]]

  This was implemented and merged.

* B.3.11. Fix newly identified issues to make our test suite more robust and faster

  - We've marked some more scenarios as fragile, as we noticed there
    were still some false positives ([[!tails_ticket 10863]]):
    Encrypting and signing a message using an OpenPGP key
    ([[!tails_ticket 10991]]),
    OpenPGP applet key selection window badly handled
    ([[!tails_ticket 10992]]),
    Viewing and printing a PDF file ([[!tails_ticket 10994]]),
    MAC address spoofing ([[!tails_ticket 10774]]),
    Tails Installer ([[!tails_ticket 10720]])

  - The test suite machinery sometimes misses the boot splash
    ([[!tails_ticket 10777]]): a branch was proposed.

  - Some research was done on [[!tails_ticket 10504]] ("boot_device
    method in features/step_definitions/usb.rb is broken"), that we
    can't reproduce anymore.

## B.4. Freezable APT repository

This was put aside in January, while the developer responsible for
this project was focusing on porting Tails to Debian Jessie. A little
progress was made nevertheless:

* B.4.6. Adjust the rest of our ecosystem to the freezable APT
  repository: [[!tails_ticket 6303]]

  We completed our evaluation of the hardware resources required by
  our draft design ([[!tails_ticket 6295]]), purchased and set up the
  needed storage ([[!tails_ticket 10851]]). Next step on this front is
  to adjust our backup system, and our fail-over system once we
  have one.

# C. Scale our infrastructure

## C.2. Be able to detect within hours failures and malfunction on our services

We're still working on the prototype and it now has a setup for all the
checks we ranked in the blueprint as critical. ([[!tails_ticket 8650]])

This helped us to check how the chosen software is corresponding to the
requirements we defined. An implementation has been proposed.
([[!tails_ticket 8645]])

Deciding how to deploy new hosts in our actual puppet setup took a bit
more time than planed. A solution has been proposed, and once agreed it
will deployed in production, which should happen beginning of February.

Once this is done, we'll be able to start the deployment of the
monitoring software on the new host, and implement the first critical
checks that has already been tested in the prototype. This will happen
during February.

Implementing other checks is planed for the end of February and
beginning of March, as well as starting the setup of notifications to
our sysadmins. In the end, we'll spend most of the rest of March to
refine our setup, mostly on the notification part.

XXX: bertagaz, status of each C.2.n deliverable?

## C.4. Maintain our already existing services

We kept on answering the requests from the community as well as taking
care of security updates as covered by "C.4.4. Administer our services
up to milestone IV" and "C.4.5. Administer our services up to milestone
V" until the end of January.

A design to administer our new monitoring machine with Puppet has been
proposed. ([[!tails_ticket 10760]])

We fixed a bug in our Puppet manifests that prevented us to deploy
new ISO tester systems. We improved the toolbox we use to compute
statistics about the load put on our Jenkins workers, and
their performance.

# D. Migration to Debian Jessie

## D.1. Adjust to the change of desktop environment to GNOME Shell

This was completed back in November.

## D.3. Update our test suite for Tails Jessie

This was completed ([[!tails_ticket 7563]]).

The only remaining issues are a few robustness ones, such as
[[!tails_ticket 10900]]. They will be handled as part of the "B.3.11.
Fix newly identified issues to make our test suite more robust and
faster" deliverable.

## D.4. Document the changes implied by the move to Jessie on our website

   Most of our documentation has been updated to Jessie. For example we
   rewrote entirely the [[introduction to
   GNOME|doc/first_steps/introduction_to_gnome_and_the_tails_desktop]].
   While reworking these pages we also simplified and improved some of
   the oldest parts of our documentation.

   The update of our documentation to GNOME Disks 3.12 was drafted but
   not merged yet. The good news is that this process involves new
   contributors who wrote documentation for Tails for the first time.

## D.5. Release an official version of Tails based on Jessie

We put out a [[release candidate|news/test_2.0-rc1]], that allowed us to
identify and resolve quite a few bugs, such as
[[!tails_ticket 10862]], [[!tails_ticket 10809]], and
[[!tails_ticket 10784]]. We will be writing regression tests for some
of these bugs, in particular the persistence -related ones
([[!tails_ticket 10834]] and [[!tails_ticket 10840]]).

Tails 2.0 [[was released|news/version_2.0]] on January 26, as planned.

# E. Release management

XXX: anonym (backup = sajolida)
