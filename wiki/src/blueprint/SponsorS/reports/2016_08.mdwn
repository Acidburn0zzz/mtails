[[!meta title="Tails August 2016 report"]]

[[!toc levels=2]]

<div class="caution">
<strong>Deadline: 2016-09-05</strong>
</div>

<div class="note">
Deliverable identifiers and descriptions are not free-form: they must
be copy'n'pasted as-is from the proposal sent to the sponsor.

<pre>
## A.n. description of subsection

- A.n.m. description of deliverable: ticket numbers

  status summary:

  * what was done
  * what is the outcome (how it makes Tails better)
  * what was not done, and why
</pre>
</div>

[Last month's activity on Redmine](https://labs.riseup.net/code/projects/tails/issues?query_id=208)
can be helpful.

This reports covers the activity of Tails in August 2016.

Everything in this report is public.

# A. Replace Claws Mail with Icedove

## A.1.1. Secure the Icedove autoconfig wizard

In June we reported that some account setup issues have been discovered with the introduction of  our patches which should protect the user by forcing the use of secure protocols in Icedove.
We've managed to fix the intermittently failing TLS connections and released this in Tails 2.5 ([[!tails_ticket 11550]], [[!tails_ticket 10933]]). The OAuth issue has been identified and a fix has been committed ([[!tails_ticket 11536]]).
We are currently thouroughly testing this patch and as soon as the tests conclude positive, we will resubmit this patch upstream.

## A.1.2. Make our improvements maintainable for future versions of Icedove

We've successfully provided an AppArmor profile to Debian's Icedove package. It can now also be used by other Debian users and thus it profits from their testing, bug reports and patches. ([[!tails_ticket 11058]]).

We've started incorporating this AppArmor profile into Tails in the meantime, until our patches get merged and we can start to ship the default Debian Icedove package. However, this still needs some small adjustements as well as testing. ([[!tails_ticket 10750]]).

As for our patches, we've greatly improved them and upstream has now even asked us for news, which is good! As soon as we have tested the aforementioned OAuth issue, we'll resubmit them upstream.  ([[!tails_ticket 6165]]).

As for our Torbirdy patches which had already landed upstream, they've now also landed in Debian Unstable as well as in jessie-backports.

XXX: u

# B. Improve our quality assurance process

## B.2 Continuously run our test suite on ISO images built by Jenkins

We want to identify which ones, among the flaky automated tests that
are currently disabled on our continuous integration infrastructure,
will be fixed simply by porting Tails to Debian 9 (Stretch). So we
[[!tails_ticket 11752 desc="introduced a way"]] to force running _all_
tests for a given branch, even the ones flagged as "fragile". In a few
months we will have enough data to adjust these test flakiness
annotations, and hopefully to re-allow a number of these tests to run
on our Jenkins infrastructure.

## B.3. Extend the coverage of our test suite

### B.3.11. Fix newly identified issues to make our test suite more robust and faster

* porting Tails to Debian 9 (Stretch); dogtail-ification [XXX: intrigeri]

* re-enabled the parts of our test suite that rely on emulated
  removable USB mass storage devices, that have historically been
  fragile in our Jenkins setup [XXX: intrigeri]

* [[!tails_ticket 11479]]: XXX: intrigeri

* XXX: bertagaz' work

### B.3.12. Reliably wait for post-Greeter hooks ([[!tails_ticket 5666]])

We plan to complete this by the end of October.

### B.3.14. Write tests for incremental upgrades ([[!tails_ticket 6309]])

We plan to complete this by the end of October.

## B.4. Freezable APT repository

This was completed already, but still we have a couple updates
about it.

This piece of infrastructure has already proven its great usefulness
in practice, for a use case that we had not imagined yet: we've just
had a first one-week sprint to kick-start porting Tails to Debian 9
(Stretch). Thanks to our Debian archive snapshots, we were able to
select a known-good state of the Debian archive and use it for the
entire week, without having to cope with a landscape that would be
constantly changing under our feet. This way we could focus on the
task at hand.

We solved a [[!tails_ticket 11612 desc="design problem"]] in how we
handle frozen APT repositories for bugfix releases, that we had
identified in July during the Tails 2.5 release process.

# C. Scale our infrastructure

## C.1. Change in depth the infrastructure of our pool of mirrors:

- C.1.2. Write & audit the code that makes the redirection decision from our website ([[!tails_ticket 8639]], [[!tails_ticket 8640]], [[!tails_ticket 11109]])

  * `mirror-dispatcher.js`: we are still waiting for the auditor to do
    a final security review.

  * Download And Verification Extension (DAVE) for Firefox: XXX: u

- C.1.6. Adjust download documentation to point to the mirror pool dispatcher's URL ([[!tails_ticket 8642]], [[!tails_ticket 11329]], [[!tails_ticket 10295]])

  This was completed back in May.

- C.1.8. Clean up the remainers of the old mirror pool setup  ([[!tails_ticket 8643]], [[!tails_ticket 11284]])

  This is only blocked by the work that is in progress on DAVE (C.1.2).

## C.4. Maintain our already existing services

### C.4.6. Administer our services upto milestone VI

XXX

We kept on answering the requests from the community and taking care
of security updates.

* [[!tails_ticket 11543]]: XXX: bertagaz

* fine-tuned some monitoring checks parameters: XXX: bertagaz

# E. Release management

## E.1.12. Tails 2.5

[[Tails 2.5|news/version_2.5]] was released on August 2.
