[[!meta title="Tails July 2016 report"]]

[[!toc levels=2]]

<div class="caution">
<strong>Deadline: 2016-08-05</strong>
</div>

<div class="note">
Deliverable identifiers and descriptions are not free-form: they must
be copy'n'pasted as-is from the proposal sent to the sponsor.
</div>

[Last month's activity on Redmine](https://labs.riseup.net/code/projects/tails/issues?query_id=208)
can be helpful.

This reports covers the activity of Tails in July 2016.

Everything in this report is public.

# A. Replace Claws Mail with Icedove

XXX:u

## A.n. description of subsection

- A.n.m. description of deliverable: ticket numbers

  status summary:

  * what was done
  * what is the outcome (how it makes Tails better)
  * what was not done, and why

# B. Improve our quality assurance process

## B.3. Extend the coverage of our test suite

### B.3.10. Write automated tests for features added in 2016Q1

XXX:intrigeri

### B.3.11. Fix newly identified issues to make our test suite more robust and faster

XXX: [[!tails_ticket 11588]], [[!tails_ticket 10720]],
[[!tails_ticket 11590]]

We implemented retries on transient network failures in a bunch of the
features of our test suite that were subject to it:
- in the SSH and SFTP feature [[!tails_ticket 10498]]
- in the APT feature [[!tails_ticket 10496]]
- in the Git feature [[!tails_ticket 10444]]
- the Synaptic scenario has a proposed patch that has been widely
  tested and should be merged for 2.6 [[!tails_ticket 10441]]. Hopefully
  it will also workaround Synaptic segfaults we've seen
  [[!tails_ticket 10412]] as well as another related bug
  [[!tails_ticket 10900]].

We identified a bug in the step checking that the persistent partition
exists. It seems that sometimes UDisks2 uses a device mapper name that
contains ASCII characters when unlocking the LUKS volume. We had to
ensure its handling in our test suite was properly quoted, otherwise it
used to fail. A fix has been merged already [[!tails_ticket 11558]].

We experienced a bug where a Tails installed on a USB stick as a
isohybrid was sometimes detected as running from the whole device, and
not its partition. We adapted our test suite accordingly and merged the
fix [[!tails_ticket 10504]].

While working on tackling the failures of the time syncing step, we
realized that some of the HTTP servers used in the HTPdate pools were
offline or broken, weakening the time syncing in Tails. We replaced
them, which ameliorates the situation [[!tails_ticket 11577]].

Our test suite needs to add kernel command line options when booting the
Tails VM under test, so that it can run commands inside it. This step
used to be fragile: it sometimes happened that the Tails VM booted
before our test suite had time to type this options. We've been
researching and implementing a fix that is currently under test and
seems to behave much better. It's been reviewed and some fixes and
polishing have been added. It seems now in good shape enough to be
merged for 2.6, after it gets a bit more testing.
[[!tails_ticket 10777]]

### B.3.12. Reliably wait for post-Greeter hooks ([[!tails_ticket 5666]])

With the workload we had on other test suite tickets we didn't have time
to work on this bug. We'll tackle it during the next round.

### B.3.13. Reorganize the "various checks" feature ([[!tails_ticket 5707]])

This branch is now merged.

### B.3.14. Write tests for incremental upgrades ([[!tails_ticket 6309]])

A branch was proposed to merge and reviewed. Some issues with it were
raised and corrected, but it brought semantic mistakes we have to fix
before considering merging it. This will be done during the next round.

### B.3.15. Write automated tests for features added in 2016Q2

The `dotfiles` persistence option has been broken in the past, so we
added a new scenario to test it and ensure we don't get a new regression
with this one [[!tails_ticket 10840]].

## B.4. Freezable APT repository

XXX:intrigeri

B.4.3. Centralize and merge the list of needed packages
B.4.5. Implement processes and tools for importing and freezing those packages

# C. Scale our infrastructure

## C.1. Change in depth the infrastructure of our pool of mirrors

XXX:u

- C.1.2. Write & audit the code that makes the redirection decision from our website ([[!tails_ticket 8639]], [[!tails_ticket 8640]], [[!tails_ticket 11109]])

- C.1.6. Adjust download documentation to point to the mirror pool dispatcher's URL

- C.1.8. Clean up the remainders of the old mirror pool setup ([[!tails_ticket 8643]], [[!tails_ticket 11284]])

## C.4. Maintain our already existing services

- C.4.6. Administer our services upto milestone VI

  We kept on answering the requests from the community and taking care
  of security updates.

XXX: [[!tails_ticket 10733]]

# E. Release management

XXX:sajolida
