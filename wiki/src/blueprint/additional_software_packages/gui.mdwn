[[!meta title="User interface for additional software packages"]]


Proposed user experience
========================

0. Have a way to enable the feature (and its dependencies) in
*tails-persistence-setup*. This besically means cheking both
*APT Lists* and *APT Packages Cache* (much welcome)

1. When installing a new package, either through the command line or
through Synaptic, the user is asked whether she wants to make it
persistent. We might want to consider using gnome-packagekit (easier) of event gnome-software (which currently don't display all available packages)

2. When removing a persistent package, the user is asked whether she
wants to remove it from the list of persistent packages.

3. Have a list of the persistent packages visible in the persistence
wizard. As the user need to be able to check the state of this feature
outside of APT operations.

4. Allow removing packages from the list in 3 (welcome).

5. Allow adding packages to the list in 3 (we don't really want that, do we?).

Implementation
--------------

  - 1 and 2 might be possible to implement using APT hooks or PackageKit 
    DBus interface. We need to
    investigate how these hooks would communicate with the desktop

  - 3 might require modifying the general concept of the persistence
    wizard which is currently only a list of features that are activated
    or not, without feedback on the information managed by each of them.

  - 4 should be easy to implement once we have 3 as removing packages
    from the list doesn't need any validity check. Note that we would
    always answer Yes to debconf questions.

  - 5 would require validating the packages added to the list to make
    sure that they can be installed. Installing packages on the fly as
    they are added to the list might help solving this.

  - We could merge both the **APT Packages** and **APT Lists**
    persistence features

