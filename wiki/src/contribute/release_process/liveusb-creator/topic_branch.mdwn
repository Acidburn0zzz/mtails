[[!meta title="Packaging liveusb-creator topic branches"]]

Let's say you want to build a package for a topic branch called
`bugfix/12345-blah`. Please read on.

<div class="note">

If your topic branch has been forked off a different branch than
<code>master</code>, then you need to adjust the following
instructions a bit: not only you need to replace occurrences of
<code>master</code>, but your <code>TARGET_DIST</code> will also
be different.

</div>

1. `export TARGET_DIST="tails/wheezy"`
2. `export TOPIC="bugfix/12345-blah"`
3. `git checkout -b "tails/$TOPIC" "$TARGET_DIST"`
4. `git diff "master..$TOPIC" > "$TOPIC.diff"` 
5. Now, import the patch into the current packaging branch as a `quilt`
   patch: `quilt import "$TOPIC.diff"`
6. Use `gbp dch --auto --snapshot --ignore-branch` to fill `debian/changelog`, and
   insert something like "+bugfix.12345.blah" (with all special
   characters changed to full stops, i.e. ".") between the version
   last packaged in the TARGET_DIST branch, and the gbp snapshot number
   (that looks like "~1.gbpNNNNNN"). In our example, it should look something like:
   3.11.6+tails1-4+bugfix.12345.blah~1.gbp4a0c9c in the end.
7. Verify the changelog manually then commit:
   
       git commit debian/changelog
   
8. Build with `gbp buildpackage --git-ignore-branch`.
