[[!meta title="Automated test suite particularities on lizard"]]

# Old ISO used in the test suite in Jenkins

Some tests like upgrading Tails are done against a Tails installation made from
the previously released ISO.

In some cases (e.g when the Tails installer interface changed), we need to
deactivate this feature so that the test can pass.

`USE_LAST_RELEASE_AS_OLD_ISO` is the environment variable controling that
behavior. Set to `no`, the same ISO that is being tested is going to be used
as the previously installed Tails system.

In Tails' Jenkins, this variable can be set in the `macros/test_Tails_ISO.yaml`
and `macros/manual_test_Tails_ISO.yaml` files in lizard's jenkins-jobs repo
(`gitolite@git.puppet.tails.boum.org:jenkins-jobs`). Documentation (and policy)
to access it is the same than for our [[puppet modules|contribute/git#puppet]].

**Beware** that this repo is the one used to generate our jenkins jobs so
that's the one where to push your changes. The immerda one is just a mirror,
any change there does not affects our infra and is overwritten.

See commit
[371be73](https://git-tails.immerda.ch/jenkins-jobs/commit/?id=371be73)
in our jenkins-jobs repos for an example.
