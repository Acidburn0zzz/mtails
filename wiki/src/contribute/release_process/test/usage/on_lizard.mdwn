[[!meta title="Automated test suite particularities on lizard"]]

# Old ISO used in the test suite in Jenkins

Some tests like upgrading Tails are done against a Tails installation made from
the previously released ISO.

In some cases (e.g when the Tails installer interface changed), we need to
deactivate this feature so that the test can pass. There is an environment
variable to control which old ISO will be used in Jenkins.

Set `USE_LAST_RELEASE_AS_OLD_ISO=no` in the environment to deactivate this
feature. In this case, the same ISO that is being tested is going to be used
as the previously installed Tails system.

In Tails' Jenkins, this variable can be set in the `macros/test_Tails_ISO.yaml`
and `macros/manual_test_Tails_ISO.yaml` files in the [jenkins-jobs
repo](gitolite@git.puppet.tails.boum.org:jenkins-jobs). **Beware** that the
main repo used to generate our jenkins jobs is the one hosted in the
`puppet-git.lizard` gitolite instance, so that's the one where to push your
changes. The immerda one is just a mirror.

See commit
[371be73](https://git-tails.immerda.ch/jenkins-jobs/commit/?id=371be73)
in the above repo for an example.
